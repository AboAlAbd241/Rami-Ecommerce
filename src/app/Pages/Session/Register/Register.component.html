<div class="inner-container bg-white section-gap-lg">
  <div class="container">
    <div fxLayout='row wrap' fxLayoutAlign="center center">
      <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="80" fxFlex.lg="70" fxFlex.xl="70">
        <div fxLayout='row wrap' fxLayoutAlign="center center">
          <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50">
            <div class="form-img register-image">
            </div>
          </div>
          <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50">
            <mat-card class="register-form form-margin">
              <h4>Enter your details</h4>
              <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
                <div class="mb-4">
                  <mat-form-field class="w-100">
                    <input matInput type="text" placeholder="First Name" formControlName="firstName" required>
                    <mat-error *ngIf="signupForm.controls.firstName.errors?.required">First name is required</mat-error>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <input matInput type="text" placeholder="Last Name" formControlName="lastName" required>
                    <mat-error *ngIf="signupForm.controls.lastName.errors?.required">Last name is required</mat-error>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <input matInput type="text" placeholder="City" formControlName="city" required>
                    <mat-error *ngIf="signupForm.controls.city.errors?.required">City is required</mat-error>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <input matInput type="text" placeholder="Street Name" formControlName="streetName" required>
                    <mat-error *ngIf="signupForm.controls.streetName.errors?.required">Street name is required</mat-error>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <input matInput type="text" placeholder="Phone number" formControlName="phoneNumber" required>
                    <mat-error *ngIf="signupForm.controls.phoneNumber.errors?.required">Phone number is required</mat-error>
                    <mat-error *ngIf="signupForm.controls.phoneNumber.errors?.pattern">Phone number should be 10 digits</mat-error>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <input matInput type="email" placeholder="Email" formControlName="email" required>
                    <mat-error *ngIf="signupForm.controls.email.errors?.required">Email is required</mat-error>
                    <mat-error *ngIf="signupForm.controls.email.errors?.email">Invalid email format</mat-error>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <input matInput type="password" placeholder="Enter Password" formControlName="password" required>
                    <mat-error *ngIf="signupForm.controls.password.errors?.required">Password is required</mat-error>
                    <mat-error *ngIf="signupForm.controls.password.errors?.minlength">Password must be at least 8 characters</mat-error>
                  </mat-form-field>
                </div>
                <div class="mb-4">
                  <mat-form-field class="w-100">
                    <input matInput type="password" placeholder="Retype Password" formControlName="confirmPassword" required>
                    <mat-error *ngIf="signupForm.controls.confirmPassword.errors?.required">Please confirm your password</mat-error>
                    <mat-error *ngIf="signupForm.errors?.mismatch">Passwords do not match</mat-error>
                  </mat-form-field>
                </div>
                <button color="accent" class="button-lg mb-3" mat-raised-button [disabled]="signupForm.invalid">Submit</button>
                <div *ngIf="signupError" class="error-message">{{ signupError }}</div>
                <div> Already have an account? then <a class="accent-color" [routerLink]="['/session/signin']">Sign In</a></div>
              </form>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="spinner-container" *ngIf="loading">
  <mat-spinner class="custom-spinner"></mat-spinner>
</div>